<?phpclass DataOperation {	// データベースアカウント情報の設定	var $_db;	var $sqltype = DBTYPE;	var $user = DBUSER;	var $server = DBSERVER;	var $password = DBPASSWORD;	var $dbname = DBNAME;        //コンストラクタ	function __construct($flag = null) {		// $flagによって処理を分岐する		$this->dbdispatch ($flag);	}		//データベースへの接続を判定		function dbdispatch ($flag) {		// $flagがある場合は何もしない		if (!empty($flag)) {				// $flagが無ければデータベース接続		} else {			// MDB2使用			require_once ('MDB2.php');			// データベースに接続			$this->dbconnect();		}	}		//データベースへ接続		function dbconnect () {		// データベースに接続		$this->_db = MDB2::factory($this->sqltype.'://'.$this->user.':'.$this->password.'@'.$this->server.'/'.$this->dbname.'?charset=utf8');		// 接続チェック		if(MDB2::isError($this->_db)) {			return $this->dbreturn(FALSE, $this->_db->getMessage());		}		//カラム名でのアクセスに指定		$this->_db->setFetchMode(MDB2_FETCHMODE_ASSOC);	}		//データベース接続の解除		function dbclose(){		// データベース接続の解除		$this->_db->disconnect();	}		//戻り値作成	function resReturn($res=false,$data=null){		if(empty($data)){			$data=null;		}		// array(結果（TRUEかFALSE）, 値（SELECT文の場合は取得した値））		return array($res, $data);	}}?>